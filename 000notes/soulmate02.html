<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soulmate Dating Website Tutorial</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1,
        h2,
        h3,
        h4 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 2.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        h2 {
            font-size: 2em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        h3 {
            font-size: 1.5em;
            color: #34495e;
        }

        h4 {
            font-size: 1.2em;
            color: #7f8c8d;
        }

        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .highlight {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 15px 0;
        }

        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 10px 15px;
            margin: 15px 0;
        }

        .warning {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 10px 15px;
            margin: 15px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        ul,
        ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 5px 0;
        }

        .model-section {
            background: #f0f8ff;
            border: 1px solid #b0c4de;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }

        .controller-section {
            background: #f0fff0;
            border: 1px solid #90ee90;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }

        .view-section {
            background: #fff0f5;
            border: 1px solid #ffb6c1;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }

        .route-section {
            background: #f5f5dc;
            border: 1px solid #daa520;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #a8d5e0;
        }

        .feature-item h4 {
            margin-top: 0;
            color: #2c3e50;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Soulmate Dating Website Tutorial</h1>

        <h2>Overview</h2>
        <p>This is a comprehensive Laravel-based dating website called "Soulmate" that allows users to create profiles,
            set preferences, find matches, and chat with potential partners. The application uses modern web
            technologies including Laravel 11, Tailwind CSS, and JavaScript for a responsive and interactive user
            experience.</p>

        <h2>Project Structure</h2>

        <h3>Core Technologies</h3>
        <ul>
            <li><strong>Laravel 11</strong>: PHP framework for backend logic</li>
            <li><strong>Tailwind CSS</strong>: Utility-first CSS framework for styling</li>
            <li><strong>Blade Templates</strong>: Laravel's templating engine</li>
            <li><strong>SQLite</strong>: Database for development</li>
            <li><strong>JavaScript</strong>: For interactive features like AJAX chat and dynamic UI</li>
        </ul>

        <h3>Directory Structure</h3>
        <div class="code-block">
            soulmateone/<br>
            ├── app/<br>
            │ ├── Http/Controllers/ # Controllers for handling requests<br>
            │ ├── Models/ # Eloquent models<br>
            │ └── Providers/ # Service providers<br>
            ├── database/<br>
            │ ├── migrations/ # Database schema definitions<br>
            │ └── seeders/ # Database seeders<br>
            ├── public/ # Public assets (CSS, JS, images)<br>
            ├── resources/<br>
            │ ├── css/ # Stylesheets<br>
            │ ├── js/ # JavaScript files<br>
            │ └── views/ # Blade templates<br>
            ├── routes/<br>
            │ └── web.php # Route definitions<br>
            └── config/ # Configuration files
        </div>

        <h2>Database Schema</h2>

        <h3>Users Table</h3>
        <div class="code-block">
            <pre><code>CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    email_verified_at TIMESTAMP NULL,
    password VARCHAR(255) NOT NULL,
    remember_token VARCHAR(100) NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);</code></pre>
        </div>

        <h3>Profiles Table</h3>
        <div class="code-block">
            <pre><code>CREATE TABLE profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    age INTEGER NOT NULL,
    gender ENUM('male', 'female', 'other') NOT NULL,
    bio TEXT NULL,
    country VARCHAR(255) NULL,
    city VARCHAR(255) NULL,
    interests JSON NULL,
    photo VARCHAR(255) NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);</code></pre>
        </div>

        <h3>Preferences Table</h3>
        <div class="code-block">
            <pre><code>CREATE TABLE preferences (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    min_age INTEGER NULL,
    max_age INTEGER NULL,
    gender_preference ENUM('male', 'female', 'other', 'any') DEFAULT 'any',
    country_preference VARCHAR(255) NULL,
    city_preference VARCHAR(255) NULL,
    interests_preference JSON NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);</code></pre>
        </div>

        <h3>Matches Table</h3>
        <div class="code-block">
            <pre><code>CREATE TABLE matches (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    matched_user_id INTEGER NOT NULL,
    status ENUM('pending', 'accepted', 'rejected') DEFAULT 'pending',
    compatibility_score DECIMAL(5,2) NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (matched_user_id) REFERENCES users(id) ON DELETE CASCADE
);</code></pre>
        </div>

        <h3>Messages Table</h3>
        <div class="code-block">
            <pre><code>CREATE TABLE messages (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    sender_id INTEGER NOT NULL,
    receiver_id INTEGER NOT NULL,
    message TEXT NOT NULL,
    read_at TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (sender_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (receiver_id) REFERENCES users(id) ON DELETE CASCADE
);</code></pre>
        </div>

        <h2>Models</h2>

        <div class="model-section">
            <h3>User Model (<code>app/Models/User.php</code>)</h3>
            <div class="code-block">
                <pre><code>

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\Relations\HasOne;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use HasFactory, Notifiable;

    protected $fillable = [
        'name',
        'email',
        'password',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected function casts(): array
    {
        return [
            'email_verified_at' => 'datetime',
            'password' => 'hashed',
        ];
    }

    public function profile(): HasOne
    {
        return $this->hasOne(Profile::class);
    }

    public function preference(): HasOne
    {
        return $this->hasOne(Preference::class);
    }

    public function sentMatches(): HasMany
    {
        return $this->hasMany(UserMatch::class);
    }

    public function receivedMatches(): HasMany
    {
        return $this->hasMany(UserMatch::class, 'matched_user_id');
    }

    public function sentMessages(): HasMany
    {
        return $this->hasMany(Message::class, 'sender_id');
    }

    public function receivedMessages(): HasMany
    {
        return $this->hasMany(Message::class, 'receiver_id');
    }
}</code></pre>
            </div>
            <p>The User model extends Laravel's Authenticatable class and includes relationships to Profile, Preference,
                UserMatch, and Message models. It handles user authentication and provides access to related data.</p>
        </div>

        <div class="model-section">
            <h3>Profile Model (<code>app/Models/Profile.php</code>)</h3>
            <div class="code-block">
                <pre><code>

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class Profile extends Model
{
    protected $fillable = [
        'user_id',
        'age',
        'gender',
        'bio',
        'country',
        'city',
        'interests',
        'photo',
    ];

    protected $casts = [
        'interests' => 'array',
    ];

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }
}</code></pre>
            </div>
            <p>The Profile model stores user profile information including age, gender, bio, location, interests (stored
                as JSON), and profile photo path.</p>
        </div>

        <div class="model-section">
            <h3>Preference Model (<code>app/Models/Preference.php</code>)</h3>
            <div class="code-block">
                <pre><code>
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class Preference extends Model
{
    protected $fillable = [
        'user_id',
        'min_age',
        'max_age',
        'gender_preference',
        'country_preference',
        'city_preference',
        'interests_preference',
    ];

    protected $casts = [
        'interests_preference' => 'array',
    ];

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }
}</code></pre>
            </div>
            <p>The Preference model stores user dating preferences including age range, gender preference, location
                preferences, and preferred interests.</p>
        </div>

        <div class="model-section">
            <h3>UserMatch Model (<code>app/Models/UserMatch.php</code>)</h3>
            <div class="code-block">
                <pre><code>

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class UserMatch extends Model
{
    protected $table = 'matches';

    protected $fillable = [
        'user_id',
        'matched_user_id',
        'status',
        'compatibility_score',
    ];

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }

    public function matchedUser(): BelongsTo
    {
        return $this->belongsTo(User::class, 'matched_user_id');
    }

    public static function findPotentialMatches(User $user): \Illuminate\Database\Eloquent\Collection
    {
        $preference = $user->preference;
        $profile = $user->profile;

        if (!$preference || !$profile) {
            return collect();
        }

        $query = User::where('id', '!=', $user->id)
            ->whereHas('profile', function ($q) use ($preference, $profile) {
                if ($preference->min_age) {
                    $q->where('age', '>=', $preference->min_age);
                }
                if ($preference->max_age) {
                    $q->where('age', '<=', $preference->max_age);
                }
                if ($preference->gender_preference !== 'any') {
                    $q->where('gender', $preference->gender_preference);
                }
                // Add more filters as needed
            })
            ->whereDoesntHave('receivedMatches', function ($q) use ($user) {
                $q->where('user_id', $user->id);
            })
            ->whereDoesntHave('sentMatches', function ($q) use ($user) {
                $q->where('matched_user_id', $user->id);
            });

        return $query->with('profile')->get();
    }
}</code></pre>
            </div>
            <p>The UserMatch model handles the matching system with a static method <code>findPotentialMatches</code>
                that finds compatible users based on preferences.</p>
        </div>

        <div class="model-section">
            <h3>Message Model (<code>app/Models/Message.php</code>)</h3>
            <div class="code-block">
                <pre><code> 
namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Message extends Model
{
    protected $fillable = ['sender_id', 'receiver_id', 'message', 'read_at'];

    public function sender()
    {
        return $this->belongsTo(User::class, 'sender_id');
    }

    public function receiver()
    {
        return $this->belongsTo(User::class, 'receiver_id');
    }
}</code></pre>
            </div>
            <p>The Message model handles chat messages between matched users.</p>
        </div>

        <h2>Controllers</h2>

        <div class="controller-section">
            <h3>SoulmateProfileController (<code>app/Http/Controllers/SoulmateProfileController.php</code>)</h3>
            <p>This controller manages user profiles with CRUD operations:</p>
            <ul>
                <li><code>edit()</code>: Shows the profile edit form with countries list</li>
                <li><code>update()</code>: Updates profile with validation and photo upload</li>
                <li><code>myProfile()</code>: Displays current user's profile</li>
                <li><code>store()</code>: Creates new profile</li>
                <li><code>destroy()</code>: Deletes profile</li>
            </ul>
            <p><strong>Validation Rules:</strong></p>
            <div class="code-block">
                <pre><code>$request->validate([
    'age' => 'required|integer|min:18|max:100',
    'gender' => 'required|in:male,female,other',
    'bio' => 'nullable|string|max:500',
    'country' => 'nullable|string|max:255',
    'city' => 'nullable|string|max:255',
    'interests' => 'nullable|array',
    'photo' => 'nullable|image|max:2048',
]);</code></pre>
            </div>
        </div>

        <div class="controller-section">
            <h3>SoulmatePreferenceController (<code>app/Http/Controllers/SoulmatePreferenceController.php</code>)</h3>
            <p>Manages user dating preferences:</p>
            <ul>
                <li><code>edit()</code>: Shows preference edit form</li>
                <li><code>update()</code>: Updates preferences with validation</li>
            </ul>
            <p><strong>Validation Rules:</strong></p>
            <div class="code-block">
                <pre><code>$request->validate([
    'min_age' => 'nullable|integer|min:18|max:100',
    'max_age' => 'nullable|integer|min:18|max:100',
    'gender_preference' => 'required|in:male,female,other,any',
    'country_preference' => 'nullable|string|max:255',
    'city_preference' => 'nullable|string|max:255',
    'interests_preference' => 'nullable|array',
]);</code></pre>
            </div>
        </div>

        <div class="controller-section">
            <h3>SoulmateMatchController (<code>app/Http/Controllers/SoulmateMatchController.php</code>)</h3>
            <p>Handles the matching system and match management:</p>
            <ul>
                <li><code>index()</code>: Shows matches page with potential, accepted, sent, and received matches</li>
                <li><code>store()</code>: Sends match request via AJAX</li>
                <li><code>update()</code>: Accepts or rejects match requests</li>
            </ul>
            <p><strong>Matching Logic:</strong><br>
                The <code>index()</code> method implements complex matching logic that:</p>
            <ul>
                <li>Filters users by age range and gender preferences</li>
                <li>Ensures mutual compatibility (user's preferences match potential match's profile)</li>
                <li>Excludes already matched users</li>
                <li>Counts unread messages for accepted matches</li>
            </ul>
        </div>

        <div class="controller-section">
            <h3>ChatController (<code>app/Http/Controllers/ChatController.php</code>)</h3>
            <p>Manages real-time chat functionality:</p>
            <ul>
                <li><code>show()</code>: Displays chat interface for matched users</li>
                <li><code>store()</code>: Sends messages via AJAX</li>
                <li><code>getMessages()</code>: Retrieves messages for AJAX polling</li>
            </ul>
            <p><strong>Security Check:</strong></p>
            <div class="code-block">
                <pre><code>$isMatched = $user->sentMatches()->where('matched_user_id', $userId)->where('status', 'accepted')->exists() ||
    $user->receivedMatches()->where('user_id', $userId)->where('status', 'accepted')->exists();

if (!$isMatched) {
    abort(403, 'You can only chat with your matches.');
}</code></pre>
            </div>
        </div>

        <div class="controller-section">
            <h3>LocationController (<code>app/Http/Controllers/LocationController.php</code>)</h3>
            <p>Provides AJAX endpoint for dynamic city loading:</p>
            <ul>
                <li><code>getCities()</code>: Returns cities for selected country using PragmaRX Countries package</li>
            </ul>
        </div>

        <div class="route-section">
            <h2>Routes (<code>routes/web.php</code>)</h2>
            <div class="code-block">
                <pre><code> 

use App\Http\Controllers\ChatController;
use App\Http\Controllers\LocationController;
use App\Http\Controllers\ProfileController;
use App\Http\Controllers\SoulmateProfileController;
use App\Http\Controllers\SoulmatePreferenceController;
use App\Http\Controllers\SoulmateMatchController;
use Illuminate\Support\Facades\Route;

Route::get('/', function () {
    return view('welcome');
})->name('home');

// Authenticated routes
Route::middleware('auth')->group(function () {
    // Profile routes
    Route::get('soulmate-profile', [SoulmateProfileController::class, 'myProfile'])->name('soulmate-profile.show');
    Route::get('soulmate-profile/edit', [SoulmateProfileController::class, 'edit'])->name('soulmate-profile.edit');
    Route::put('soulmate-profile', [SoulmateProfileController::class, 'update'])->name('soulmate-profile.update');
    Route::get('soulmate-profile/create', [SoulmateProfileController::class, 'create'])->name('soulmate-profile.create');
    Route::post('soulmate-profile', [SoulmateProfileController::class, 'store'])->name('soulmate-profile.store');
    Route::delete('soulmate-profile', [SoulmateProfileController::class, 'destroy'])->name('soulmate-profile.destroy');

    // Preference routes
    Route::get('soulmate-preference/edit', [SoulmatePreferenceController::class, 'edit'])->name('soulmate-preference.edit');
    Route::put('soulmate-preference', [SoulmatePreferenceController::class, 'update'])->name('soulmate-preference.update');

    // Match routes
    Route::resource('soulmate-matches', SoulmateMatchController::class)->parameters(['soulmate-matches' => 'match']);
});

// API routes (outside auth for AJAX)
Route::get('cities/{country}', [LocationController::class, 'getCities'])->name('api.cities');

// Chat routes
Route::middleware('auth')->group(function () {
    Route::get('chat/{user}', [ChatController::class, 'show'])->name('chat.show');
    Route::post('chat/{user}', [ChatController::class, 'store'])->name('chat.store');
    Route::get('chat/{user}/messages', [ChatController::class, 'getMessages'])->name('chat.messages');
});

require __DIR__ . '/auth.php';</code></pre>
            </div>
        </div>

        <h2>Views</h2>

        <h3>Layout Structure</h3>
        <p>The application uses Laravel's Blade templating with a consistent layout structure:</p>
        <ul>
            <li><strong>App Layout (<code>resources/views/layouts/app.blade.php</code>):</strong> Navigation bar, main
                content area, footer</li>
            <li><strong>Guest Layout (<code>resources/views/layouts/guest.blade.php</code>):</strong> For login/register
                pages</li>
            <li><strong>Components:</strong> <code>x-app-layout</code>, <code>x-guest-layout</code>, form components
            </li>
        </ul>

        <div class="view-section">
            <h3>Profile Views</h3>
            <p><strong>Edit Profile (<code>resources/views/soulmate/profile/edit.blade.php</code>):</strong></p>
            <ul>
                <li>Form with fields for age, gender, bio, country, city, interests, photo</li>
                <li>Dynamic city loading via AJAX</li>
                <li>Photo upload with preview</li>
                <li>Interest tags input</li>
            </ul>

            <p><strong>Show Profile (<code>resources/views/soulmate/profile/show.blade.php</code>):</strong></p>
            <ul>
                <li>Display user's own profile</li>
                <li>Shows preferences alongside profile info</li>
                <li>Edit buttons for profile and preferences</li>
            </ul>
        </div>

        <div class="view-section">
            <h3>Preference Views</h3>
            <p><strong>Edit Preferences (<code>resources/views/soulmate/preference/edit.blade.php</code>):</strong></p>
            <ul>
                <li>Age range sliders (min/max)</li>
                <li>Gender preference dropdown</li>
                <li>Location preferences</li>
                <li>Interest preferences</li>
            </ul>
        </div>

        <div class="view-section">
            <h3>Matches View (<code>resources/views/soulmate/matches/index.blade.php</code>)</h3>
            <p><strong>Features:</strong></p>
            <ul>
                <li>Tabbed interface: Matches, Sent Requests, Received Requests</li>
                <li>Potential matches grid with "Send Match Request" buttons</li>
                <li>Accepted matches with chat links and unread message indicators</li>
                <li>AJAX-powered match request sending</li>
                <li>Dynamic tab switching with JavaScript</li>
            </ul>

            <p><strong>JavaScript Functionality:</strong></p>
            <div class="code-block">
                <pre><code>// Send match request
sendMatchButtons.forEach(button => {
    button.addEventListener('click', function() {
        const userId = this.getAttribute('data-user-id');
        fetch('/soulmate-matches', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content')
            },
            body: JSON.stringify({ matched_user_id: userId })
        }).then(response => response.json())
        .then(data => {
            if (data.success) {
                // Update UI
                this.closest('.bg-gray-700').remove();
                addToSentRequests(userId, userName, userAge, userGender, userBio, userPhoto, userInterests);
            }
        });
    });
});</code></pre>
            </div>
        </div>

        <div class="view-section">
            <h3>Chat View (<code>resources/views/soulmate/chat/show.blade.php</code>)</h3>
            <p><strong>Features:</strong></p>
            <ul>
                <li>Real-time chat interface</li>
                <li>Message bubbles with timestamps</li>
                <li>Profile photos in chat</li>
                <li>AJAX message sending</li>
                <li>Polling for new messages every 5 seconds</li>
                <li>Emoji button for fun interactions</li>
            </ul>

            <p><strong>JavaScript Chat Logic:</strong></p>
            <div class="code-block">
                <pre><code>// Send message
form.addEventListener('submit', function(e) {
    e.preventDefault();
    const message = input.value.trim();
    if (message) {
        fetch(`/chat/${userId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-TOKEN': '{{ csrf_token() }}'
            },
            body: JSON.stringify({ message: message })
        }).then(response => response.json())
        .then(data => {
            if (data.success) {
                input.value = '';
                loadMessages();
            }
        });
    }
});

// Poll for new messages
setInterval(loadMessages, 5000);</code></pre>
            </div>
        </div>

        <h2>Key Features</h2>

        <div class="feature-list">
            <div class="feature-item">
                <h4>1. User Authentication</h4>
                <ul>
                    <li>Laravel Breeze for authentication</li>
                    <li>Email verification</li>
                    <li>Password reset functionality</li>
                </ul>
            </div>

            <div class="feature-item">
                <h4>2. Profile Management</h4>
                <ul>
                    <li>Comprehensive profile creation/editing</li>
                    <li>Photo upload with storage</li>
                    <li>Interest tagging system</li>
                    <li>Location selection with country/city dropdowns</li>
                </ul>
            </div>

            <div class="feature-item">
                <h4>3. Preference Setting</h4>
                <ul>
                    <li>Age range preferences</li>
                    <li>Gender preferences</li>
                    <li>Location preferences</li>
                    <li>Interest matching</li>
                </ul>
            </div>

            <div class="feature-item">
                <h4>4. Matching System</h4>
                <ul>
                    <li>Algorithm-based potential matches</li>
                    <li>Mutual preference compatibility</li>
                    <li>Match request system (pending/accepted/rejected)</li>
                    <li>Compatibility scoring (future enhancement)</li>
                </ul>
            </div>

            <div class="feature-item">
                <h4>5. Real-time Chat</h4>
                <ul>
                    <li>AJAX-powered messaging</li>
                    <li>Message read status</li>
                    <li>Unread message indicators</li>
                    <li>Polling-based real-time updates</li>
                </ul>
            </div>

            <div class="feature-item">
                <h4>6. Responsive Design</h4>
                <ul>
                    <li>Mobile-first approach</li>
                    <li>Tailwind CSS for styling</li>
                    <li>Dark theme with gradient accents</li>
                    <li>Interactive UI elements</li>
                </ul>
            </div>
        </div>

        <h2>Security Features</h2>

        <h3>Authentication & Authorization</h3>
        <ul>
            <li>All sensitive routes protected by <code>auth</code> middleware</li>
            <li>CSRF protection on forms</li>
            <li>User ownership validation on profile/preference updates</li>
        </ul>

        <h3>Data Validation</h3>
        <ul>
            <li>Comprehensive server-side validation</li>
            <li>File upload restrictions (images only, 2MB max)</li>
            <li>Input sanitization</li>
        </ul>

        <h3>Chat Security</h3>
        <ul>
            <li>Match verification before allowing chat access</li>
            <li>User ID validation in URLs</li>
            <li>XSS protection via Blade templating</li>
        </ul>

        <h2>Database Relationships</h2>
        <div class="code-block">
            User (1) ──── (1) Profile<br>
            │<br>
            ├── (1) Preference<br>
            │<br>
            ├── (many) sentMatches ──── (1) UserMatch<br>
            │ │<br>
            │ └── (1) matchedUser<br>
            │<br>
            └── (many) sentMessages ──── (1) Message<br>
            │<br>
            └── (1) receiver
        </div>

        <h2>Installation & Setup</h2>
        <ol>
            <li><strong>Clone the repository</strong>
                <div class="code-block">git clone <repository-url><br>cd soulmateone</div>
            </li>
            <li><strong>Install dependencies</strong>
                <div class="code-block">composer install<br>npm install</div>
            </li>
            <li><strong>Environment setup</strong>
                <div class="code-block">cp .env.example .env<br>php artisan key:generate</div>
            </li>
            <li><strong>Database setup</strong>
                <div class="code-block">php artisan migrate<br>php artisan db:seed</div>
            </li>
            <li><strong>Build assets</strong>
                <div class="code-block">npm run build</div>
            </li>
            <li><strong>Start the server</strong>
                <div class="code-block">php artisan serve</div>
            </li>
        </ol>

        <h2>Future Enhancements</h2>
        <ul>
            <li><strong>Real-time messaging</strong> with WebSockets (Laravel Echo + Pusher/Socket.io)</li>
            <li><strong>Advanced matching algorithm</strong> with compatibility scoring</li>
            <li><strong>Geolocation features</strong> for proximity matching</li>
            <li><strong>Video chat integration</strong></li>
            <li><strong>Premium features</strong> (boosts, super likes)</li>
            <li><strong>Admin panel</strong> for user management</li>
            <li><strong>Push notifications</strong></li>
            <li><strong>Mobile app</strong> with React Native</li>
        </ul>

        <h2>Conclusion</h2>
        <p>The Soulmate dating website is a comprehensive Laravel application that demonstrates modern web development
            practices including:</p>
        <ul>
            <li>MVC architecture with Eloquent ORM</li>
            <li>RESTful routing and resource controllers</li>
            <li>AJAX-powered interactive features</li>
            <li>Responsive design with utility-first CSS</li>
            <li>Secure authentication and authorization</li>
            <li>Real-time communication features</li>
            <li>Scalable database design</li>
        </ul>
        <p>The application successfully combines user-friendly interfaces with robust backend logic to create an
            engaging dating platform that prioritizes user safety, privacy, and positive matching experiences.</p>
    </div>
</body>

</html>